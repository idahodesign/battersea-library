<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HorizontalNav - Simple Test</title>
  
  <!-- Battersea Library -->
  <link rel="stylesheet" href="/src/css/battersea-library.css">
  <script src="/src/js/battersea-utils.js"></script>
  <script src="/src/js/battersea-core.js"></script>
  <script src="/src/js/battersea-horizontalnav.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f5f5f5;
    }
    
    /* Simple Header */
    .site-header {
      background: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .site-header__container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    
    .site-header__brand {
      padding: 20px 0;
    }
    
    .site-header__brand a {
      text-decoration: none;
      color: #333;
      font-size: 24px;
      font-weight: bold;
    }
    
    /* Main Content */
    .main-content {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 20px;
    }
    
    .content-section {
      background: #fff;
      border-radius: 8px;
      padding: 40px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .content-section h1 {
      color: #333;
      margin-bottom: 20px;
    }
    
    .content-section h2 {
      color: #555;
      margin-top: 30px;
      margin-bottom: 15px;
      font-size: 20px;
    }
    
    .content-section p {
      line-height: 1.8;
      color: #666;
      margin-bottom: 15px;
    }
    
    .test-instructions {
      background: #e3f2fd;
      border-left: 4px solid #2196F3;
      padding: 20px;
      border-radius: 4px;
      margin: 20px 0;
    }
    
    .test-instructions h3 {
      color: #1976D2;
      margin-bottom: 15px;
    }
    
    .test-instructions ul {
      margin-left: 20px;
    }
    
    .test-instructions li {
      margin-bottom: 10px;
      color: #0D47A1;
    }
    
    /* Custom nav styling for this demo */
    :root {
      --battersea-hnav-bg: #fff;
      --battersea-hnav-text: #555;
      --battersea-hnav-hover-bg: #f0f7ff;
      --battersea-hnav-hover-text: #1976D2;
      --battersea-hnav-active-bg: #2196F3;
      --battersea-hnav-active-text: #fff;
      --battersea-primary: #2196F3;
    }
  </style>
</head>
<body>

  <!-- Site Header -->
  <header class="site-header">
    <div class="site-header__container">
      <!-- Brand -->
      <div class="site-header__brand">
        <a href="#home">MyWebsite</a>
      </div>
      
      <!-- Navigation -->
      <nav class="battersea-header__nav" 
           data-horizontal-nav
           data-nav-hover-delay="200"
           data-nav-edge-threshold="250">
        <ul class="battersea-hnav">
          <li class="battersea-hnav__item">
            <a href="#home" class="battersea-hnav__link active">Home</a>
          </li>
          
          <li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
            <a href="#products" class="battersea-hnav__link">Products</a>
            <ul class="battersea-hnav__dropdown">
              <li class="battersea-hnav__dropdown-item battersea-hnav__item--has-flyout">
                <a href="#software" class="battersea-hnav__dropdown-link">Software</a>
                <ul class="battersea-hnav__flyout">
                  <li class="battersea-hnav__flyout-item battersea-hnav__item--has-accordion">
                    <a href="#desktop" class="battersea-hnav__flyout-link">Desktop Apps</a>
                    <ul class="battersea-hnav__accordion">
                      <li><a href="#productivity">Productivity Suite</a></li>
                      <li><a href="#creative">Creative Tools</a></li>
                      <li><a href="#utilities">Utilities</a></li>
                    </ul>
                  </li>
                  <li class="battersea-hnav__flyout-item">
                    <a href="#web" class="battersea-hnav__flyout-link">Web Apps</a>
                  </li>
                  <li class="battersea-hnav__flyout-item">
                    <a href="#mobile" class="battersea-hnav__flyout-link">Mobile Apps</a>
                  </li>
                </ul>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#hardware" class="battersea-hnav__dropdown-link">Hardware</a>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#accessories" class="battersea-hnav__dropdown-link">Accessories</a>
              </li>
            </ul>
          </li>
          
          <li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
            <a href="#solutions" class="battersea-hnav__link">Solutions</a>
            <ul class="battersea-hnav__dropdown">
              <li class="battersea-hnav__dropdown-item">
                <a href="#enterprise" class="battersea-hnav__dropdown-link">Enterprise</a>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#small-business" class="battersea-hnav__dropdown-link">Small Business</a>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#education" class="battersea-hnav__dropdown-link">Education</a>
              </li>
            </ul>
          </li>
          
          <li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
            <a href="#resources" class="battersea-hnav__link">Resources</a>
            <ul class="battersea-hnav__dropdown">
              <li class="battersea-hnav__dropdown-item">
                <a href="#documentation" class="battersea-hnav__dropdown-link">Documentation</a>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#tutorials" class="battersea-hnav__dropdown-link">Tutorials</a>
              </li>
              <li class="battersea-hnav__dropdown-item">
                <a href="#blog" class="battersea-hnav__dropdown-link">Blog</a>
              </li>
            </ul>
          </li>
          
          <li class="battersea-hnav__item">
            <a href="#pricing" class="battersea-hnav__link">Pricing</a>
          </li>
          
          <li class="battersea-hnav__item">
            <a href="#contact" class="battersea-hnav__link">Contact</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    
    <div class="content-section">
      <h1>âœ… HorizontalNav Component - Working!</h1>
      <p>The HorizontalNav component is successfully integrated and functioning. This simple test page demonstrates a realistic use case with a clean header and navigation.</p>
      
      <div class="test-instructions">
        <h3>ðŸ§ª Test Instructions</h3>
        <ul>
          <li><strong>Hover over "Products"</strong> - Notice the dropdown slides UP smoothly to meet the header</li>
          <li><strong>Hover over "Software"</strong> - The flyout menu appears on the right side</li>
          <li><strong>Click on "Desktop Apps"</strong> - The accordion expands to reveal 4th-level items</li>
          <li><strong>Try the hover delay</strong> - Move your mouse away and notice it waits 200ms before closing</li>
          <li><strong>Test keyboard navigation</strong> - Press Tab to navigate, Enter to toggle dropdowns, Esc to close</li>
          <li><strong>Click outside</strong> - All menus close automatically</li>
          <li><strong>Resize your browser</strong> - Try making it narrow to see mobile mode activate at 768px</li>
        </ul>
      </div>
      
      <h2>Animation Details</h2>
      <p><strong>Level 2 (Dropdowns):</strong> Notice how the dropdown menu slides UP from below with a fade effect. This creates the illusion that it's "rising to meet" the header.</p>
      
      <p><strong>Level 3 (Flyouts):</strong> The flyout menus slide horizontally towards their parent item. If there's enough space on the right (250px threshold), they open to the right. If near the screen edge, they automatically open to the left instead.</p>
      
      <p><strong>Level 4 (Accordions):</strong> Click "Desktop Apps" to see the smooth accordion expansion. The max-height animation creates a fluid reveal effect.</p>
      
      <p><strong>Exit Animations:</strong> All levels use a simple fade out when closing, creating a clean and professional feel.</p>
      
      <h2>Features Demonstrated</h2>
      <ul style="margin-left: 30px; line-height: 2;">
        <li>âœ… Hover-activated dropdowns with delay</li>
        <li>âœ… Smooth slide-up animation for level 2</li>
        <li>âœ… Smart left/right positioning for level 3</li>
        <li>âœ… Click-to-expand accordions for level 4</li>
        <li>âœ… Active page highlighting (Home is active)</li>
        <li>âœ… Icon indicators for items with submenus</li>
        <li>âœ… Keyboard accessibility</li>
        <li>âœ… Click outside to close</li>
        <li>âœ… ESC key to close all menus</li>
        <li>âœ… Mobile responsive (hidden at 768px)</li>
      </ul>
      
      <h2>Next Steps</h2>
      <p>This is a <strong>standalone test</strong> of the HorizontalNav component. Future integration:</p>
      <ul style="margin-left: 30px; line-height: 2;">
        <li>Integrate with full Header component (with pre-header, shrink-on-scroll, etc.)</li>
        <li>Build OverlayNav component for mobile mode</li>
        <li>Build VerticalNav component for side drawer navigation</li>
        <li>Test with SmoothScroll component integration</li>
      </ul>
    </div>
    
  </div>

  <script>
    // Simple console logging for testing
    const nav = document.querySelector('[data-horizontal-nav]');
    
    nav.addEventListener('battersea:hnavInit', () => {
      console.log('âœ… HorizontalNav initialized');
    });
    
    nav.addEventListener('battersea:hnavDropdownOpen', (e) => {
      console.log('ðŸ“‚ Dropdown opened:', e.detail);
    });
    
    nav.addEventListener('battersea:hnavFlyoutOpen', (e) => {
      console.log('âž¡ï¸ Flyout opened:', e.detail);
    });
    
    nav.addEventListener('battersea:hnavAccordionOpen', (e) => {
      console.log('ðŸ“‹ Accordion opened:', e.detail);
    });
  </script>

</body>
</html>
