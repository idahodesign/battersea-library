<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Audio Player Component - Battersea Library</title>
		<meta name="description" content="A fully custom audio player with stylable controls, seek bar, volume slider and time display - Battersea Library Component">

		<!-- LESS Stylesheets -->
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-library.less">
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-demo-site.less">

		<!-- LESS.js Configuration & Compiler -->
		<script>
			less = {
				env: 'development',
				async: false,
				fileAsync: false,
				poll: 1000,
				logLevel: 2,
				globalVars: {
					'primary-color': '#667eea',
					'secondary-color': '#764ba2',
					'accent-color': '#4ecdc4'
				}
			};
		</script>
		<script src="https://cdn.jsdelivr.net/npm/less@4.2.0"></script>

		<!-- Environment Configuration (must load before includes) -->
		<script src="../../src/js/battersea-env-config.js"></script>

		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
		</style>
	</head>
	<body>
		<div id="site-background" class="site-background-image"></div>

		<!-- PreHeader Include (GTM, etc) -->
		<div id="demo-preheader-placeholder" class="battersea-header-pre"></div>

		<!-- Header Component with Navigation -->
		<header id="mainHeader" class="battersea-header"
			data-header
			data-sticky="true"
			data-shrink="true"
			data-shrink-offset="100"
			data-shrink-height="60"
			data-layout="right-align"
			data-transition-speed="0.3"></header>

		<div class="content-outer">

			<!-- Breadcrumb -->
			<div data-breadcrumb></div>

			<!-- ============================================ -->
			<!-- HERO SECTION -->
			<!-- ============================================ -->
			<section class="hero-section" data-scroll-section data-scroll-title="Introduction" data-animate="fade-up">
				<div class="section-box">
					<div class="hero-content">
						<h1>Audio Player Component</h1>
						<p class="hero-subtitle">A fully custom audio player with play/pause, seek bar, volume control and time display &mdash; no browser defaults, everything stylable</p>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- LIVE DEMO SECTION -->
			<!-- ============================================ -->
			<section id="demos" class="showcase-section" data-scroll-section data-scroll-title="Live Demos" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Live Demonstrations</h2>
						<p class="section-subtitle">See the audio player in action with different configurations</p>

						<!-- Basic Player -->
						<div class="demo-subsection" data-animate="fade-up">
							<h3>Basic Player</h3>
							<p>The simplest setup &mdash; just point it at an audio file and the player builds itself. All controls are fully functional out of the box.</p>

							<div class="demo-container" style="display: flex; justify-content: center; padding: 2rem;">
								<div data-audio
									data-audio-src="../../assets/audio/Audio-sample.mp3">
								</div>
							</div>
						</div>

						<!-- Player with Track Info -->
						<div class="demo-subsection delay-1" data-animate="fade-up">
							<h3>Player with Track Info</h3>
							<p>Add a title and artist name to display above the controls. This version also uses a custom accent colour via <code>data-audio-color</code>.</p>

							<div class="demo-container" style="display: flex; justify-content: center; padding: 2rem;">
								<div data-audio
									data-audio-src="../../assets/audio/Audio-sample.mp3"
									data-audio-title="Audio Sample"
									data-audio-artist="Battersea Library"
									data-audio-color="#4ecdc4">
								</div>
							</div>
						</div>

						<!-- Looping Player -->
						<div class="demo-subsection delay-2" data-animate="fade-up">
							<h3>Looping Player</h3>
							<p>This player loops continuously and starts at half volume. Useful for background audio or ambient sound effects.</p>

							<div class="demo-container" style="display: flex; justify-content: center; padding: 2rem;">
								<div data-audio
									data-audio-src="../../assets/audio/Audio-sample.mp3"
									data-audio-title="Ambient Loop"
									data-audio-artist="Battersea Library"
									data-audio-loop="true"
									data-audio-volume="50"
									data-audio-color="#f093fb">
								</div>
							</div>
						</div>

						<!-- Minimal Player (No Progress Bar) -->
						<div class="demo-subsection delay-3" data-animate="fade-up">
							<h3>Minimal Player</h3>
							<p>Set <code>data-audio-progress="false"</code> to hide the seek bar. You still get play/pause, time display, and volume &mdash; just a cleaner, more compact layout.</p>

							<div class="demo-container" style="display: flex; justify-content: center; padding: 2rem;">
								<div data-audio
									data-audio-src="../../assets/audio/Audio-sample.mp3"
									data-audio-title="Compact Mode"
									data-audio-artist="Battersea Library"
									data-audio-progress="false"
									data-audio-color="#43e97b">
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- FEATURES SECTION -->
			<!-- ============================================ -->
			<section id="features" class="features-section" data-scroll-section data-scroll-title="Features" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Key Features</h2>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">&#9654;</div>
								<h3>Custom Controls</h3>
								<p>Every control is a real HTML element you can style with CSS. The native audio element is hidden &mdash; you're in full control of the look.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">&#8596;</div>
								<h3>Seek &amp; Scrub</h3>
								<p>Click anywhere on the progress bar to jump to that point, or drag the handle to scrub through the track in real time.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">&#9835;</div>
								<h3>Volume Control</h3>
								<p>Adjustable volume slider with a mute toggle. Three volume icons reflect the current level &mdash; muted, low, and full.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">A11y</div>
								<h3>Accessible</h3>
								<p>ARIA roles on all slider controls, keyboard navigation with arrow keys, and visible focus indicators throughout.</p>
							</div>

							<div class="feature-card delay-5" data-animate="fade-up">
								<div class="feature-icon">&#9638;</div>
								<h3>Responsive</h3>
								<p>On very small screens the volume slider tucks away to save space. The mute button stays, so volume control is never lost.</p>
							</div>

							<div class="feature-card delay-6" data-animate="fade-up">
								<div class="feature-icon">&#123;&#125;</div>
								<h3>Data Attributes</h3>
								<p>Configure source, title, artist, volume, looping, and accent colour all from the HTML. No JavaScript setup needed.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- CONFIGURATION SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Configuration" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Configuration &amp; Options</h2>

						<div class="config-content">
							<h3>Data Attributes</h3>
							<p>Configure the audio player using these data attributes on the container element:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Default</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-audio</code></td>
										<td>-</td>
										<td>required</td>
										<td>Initialises the audio player on the container element</td>
									</tr>
									<tr>
										<td><code>data-audio-src</code></td>
										<td>URL string</td>
										<td>required</td>
										<td>Path to audio file (MP3, WAV, OGG, AAC)</td>
									</tr>
									<tr>
										<td><code>data-audio-title</code></td>
										<td>string</td>
										<td>-</td>
										<td>Track title displayed above the controls</td>
									</tr>
									<tr>
										<td><code>data-audio-artist</code></td>
										<td>string</td>
										<td>-</td>
										<td>Artist name displayed below the title</td>
									</tr>
									<tr>
										<td><code>data-audio-autoplay</code></td>
										<td><code>true</code> / <code>false</code></td>
										<td><code>false</code></td>
										<td>Auto-start playback (may be blocked by browser)</td>
									</tr>
									<tr>
										<td><code>data-audio-loop</code></td>
										<td><code>true</code> / <code>false</code></td>
										<td><code>false</code></td>
										<td>Loop the track continuously</td>
									</tr>
									<tr>
										<td><code>data-audio-muted</code></td>
										<td><code>true</code> / <code>false</code></td>
										<td><code>false</code></td>
										<td>Start with audio muted</td>
									</tr>
									<tr>
										<td><code>data-audio-volume</code></td>
										<td>0&ndash;100</td>
										<td><code>80</code></td>
										<td>Initial volume level</td>
									</tr>
									<tr>
										<td><code>data-audio-progress</code></td>
										<td><code>true</code> / <code>false</code></td>
										<td><code>true</code></td>
										<td>Show or hide the seek/progress bar</td>
									</tr>
									<tr>
										<td><code>data-audio-preload</code></td>
										<td><code>none</code> / <code>metadata</code> / <code>auto</code></td>
										<td><code>metadata</code></td>
										<td>How much audio data to preload</td>
									</tr>
									<tr>
										<td><code>data-audio-color</code></td>
										<td>CSS colour</td>
										<td><code>#667eea</code></td>
										<td>Accent colour for progress fill and active states</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Basic Markup</h3>
							<p>The minimum markup to get an audio player running:</p>

							<pre><code>&lt;div data-audio data-audio-src="path/to/track.mp3"&gt;&lt;/div&gt;</code></pre>

							<h3 style="margin-top: 2rem;">Custom Events</h3>
							<p>Listen for these events to hook into playback:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Event</th>
										<th>Detail</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>battersea:audioPlay</code></td>
										<td><code>{ currentTime }</code></td>
										<td>Fired when playback starts</td>
									</tr>
									<tr>
										<td><code>battersea:audioPause</code></td>
										<td><code>{ currentTime }</code></td>
										<td>Fired when playback pauses</td>
									</tr>
									<tr>
										<td><code>battersea:audioSeek</code></td>
										<td><code>{ currentTime, percentage }</code></td>
										<td>Fired when the user seeks to a new position</td>
									</tr>
									<tr>
										<td><code>battersea:audioVolumeChange</code></td>
										<td><code>{ volume }</code></td>
										<td>Fired when volume changes</td>
									</tr>
									<tr>
										<td><code>battersea:audioMute</code></td>
										<td><code>{ muted }</code></td>
										<td>Fired when mute is toggled</td>
									</tr>
									<tr>
										<td><code>battersea:audioEnded</code></td>
										<td><code>{}</code></td>
										<td>Fired when the track finishes playing</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- USAGE EXAMPLES SECTION -->
			<!-- ============================================ -->
			<section class="faq-section" data-scroll-section data-scroll-title="Usage Examples" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Usage Examples</h2>

						<div data-accordion data-accordion-multiple="true">
							<div data-accordion-item class="active">
								<div data-accordion-header>Basic Audio Player</div>
								<div data-accordion-content>
									<div>
										<p>The simplest possible setup &mdash; one element, one attribute:</p>
										<pre><code>&lt;div data-audio
  data-audio-src="path/to/track.mp3"&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Player with Track Info and Custom Colour</div>
								<div data-accordion-content>
									<div>
										<p>Display the track title and artist, with a teal accent:</p>
										<pre><code>&lt;div data-audio
  data-audio-src="path/to/track.mp3"
  data-audio-title="My Track"
  data-audio-artist="The Artist"
  data-audio-color="#4ecdc4"&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Looping Background Audio</div>
								<div data-accordion-content>
									<div>
										<p>A looping player at reduced volume:</p>
										<pre><code>&lt;div data-audio
  data-audio-src="ambient.mp3"
  data-audio-loop="true"
  data-audio-volume="30"&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Listening to Audio Events</div>
								<div data-accordion-content>
									<div>
										<p>Hook into playback events for custom behaviour:</p>
										<pre><code>const player = document.querySelector('[data-audio]');

player.addEventListener('battersea:audioPlay', (e) =&gt; {
  console.log('Playing at:', e.detail.currentTime);
});

player.addEventListener('battersea:audioEnded', () =&gt; {
  console.log('Track finished');
});

player.addEventListener('battersea:audioVolumeChange', (e) =&gt; {
  console.log('Volume:', e.detail.volume);
});</code></pre>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- BROWSER SUPPORT SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Browser Support" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Browser Support</h2>
						<p class="section-subtitle">Works in all modern browsers</p>

						<div class="browser-grid">
							<div class="browser-item">
								<div class="browser-icon">Ch</div>
								<h4>Chrome</h4>
								<p>90+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ff</div>
								<h4>Firefox</h4>
								<p>88+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Sa</div>
								<h4>Safari</h4>
								<p>14+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ed</div>
								<h4>Edge</h4>
								<p>90+</p>
							</div>
						</div>

						<p style="margin-top: 2rem; text-align: center; color: #666;">
							Uses HTML5 Audio API, CSS custom properties, and <code>requestAnimationFrame</code>.
							Supports MP3, WAV, OGG, and AAC formats.
						</p>
					</div>
				</div>
			</section>


			<!-- Page Navigation -->
			<div data-pagenav data-pagenav-mode="pages" data-pagenav-show-category="true"></div>

		</div>

		<!-- Footer Include -->
		<div id="demo-footer-placeholder"></div>

		<!-- SmoothScroll Navigation -->
		<div data-smoothscroll
			data-smoothscroll-header-selector="#mainHeader"
			data-smoothscroll-position="right"
			data-smoothscroll-duration="800"
			data-smoothscroll-easing="ease-out"
			data-smoothscroll-hide-mobile="true">
		</div>

		<!-- Battersea Library JavaScript -->
		<script src="../../src/js/battersea-utils.js"></script>
		<script src="../../src/js/battersea-core.js"></script>
  <script src="../../src/js/battersea-nav-data.js"></script>
		<script src="../../src/js/battersea-animation.js"></script>
		<script src="../../src/js/battersea-accordion.js"></script>
		<script src="../../src/js/battersea-header.js"></script>
		<script src="../../src/js/battersea-horizontalnav.js"></script>
		<script src="../../src/js/battersea-tooltip.js"></script>
		<script src="../../src/js/battersea-smoothscroll.js"></script>
		<script src="../../src/js/battersea-accessibility.js"></script>
		<script src="../../src/js/battersea-breadcrumbs.js"></script>
		<script src="../../src/js/battersea-audioplayer.js"></script>
tt<script src="../../src/js/battersea-pagenav.js"></script>

		<!-- Include Loader Script -->
		<script>
			function loadInclude(url, placeholderId) {
				return fetch(url)
				.then(response => {
					if (!response.ok) {
						throw new Error(`Failed to load ${url}: ${response.status}`);
					}
					return response.text();
				})
				.then(html => {
					const placeholder = document.getElementById(placeholderId);
					if (placeholder) {
						placeholder.innerHTML = html;
					}
				})
				.catch(err => {
					console.error(`Error loading ${url}:`, err);
				});
			}

			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', loadIncludes);
			} else {
				loadIncludes();
			}
			function loadIncludes() {
				Promise.all([
					loadInclude('../../includes/preHeader.html', 'demo-preheader-placeholder'),
					loadInclude('../../includes/demo-header-component.html', 'mainHeader'),
					loadInclude('../../includes/demo-footer.html', 'demo-footer-placeholder')
				]).then(() => {
					return loadInclude('../../includes/demo-nav.html', 'demo-nav-nested');
				}).then(() => {
					console.log('All includes loaded successfully');
				});
			}
		</script>
	</body>
</html>
