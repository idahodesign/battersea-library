<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Image Gallery Component - Battersea Library</title>
		<meta name="description" content="Lightbox gallery with masonry layout, zoom, and video support - Battersea Library Component">

		<!-- LESS Stylesheets -->
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-library.less">
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-demo-site.less">

		<!-- LESS.js Configuration & Compiler -->
		<script>
			less = {
				env: 'development',
				async: false,
				fileAsync: false,
				poll: 1000,
				logLevel: 2,
				globalVars: {
					'primary-color': '#667eea',
					'secondary-color': '#764ba2',
					'accent-color': '#4ecdc4'
				}
			};
		</script>
		<script src="https://cdn.jsdelivr.net/npm/less@4.2.0"></script>

		<!-- Environment Configuration (must load before includes) -->
		<script src="../../src/js/battersea-env-config.js"></script>

		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
		</style>
	</head>
	<body>
		<div id="site-background" class="site-background-image"></div>

		<!-- PreHeader Include (GTM, etc) -->
		<div id="demo-preheader-placeholder" class="battersea-header-pre"></div>

		<!-- Header Component with Navigation -->
		<header id="mainHeader" class="battersea-header"
			data-header
			data-sticky="true"
			data-shrink="true"
			data-shrink-offset="100"
			data-shrink-height="60"
			data-layout="right-align"
			data-transition-speed="0.3"></header>

		<div class="content-outer">

			<!-- Breadcrumb -->
			<div data-breadcrumb></div>

			<!-- ============================================ -->
			<!-- HERO SECTION -->
			<!-- ============================================ -->
			<section class="hero-section" data-scroll-section data-scroll-title="Introduction" data-animate="fade-up">
				<div class="section-box">
					<div class="hero-content">
						<h1>Image Gallery Component</h1>
						<p class="hero-subtitle">A lightbox gallery with masonry layout, zoom, and video support &mdash; the works, really</p>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- LIVE DEMO SECTION -->
			<!-- ============================================ -->
			<section id="demos" class="showcase-section" data-scroll-section data-scroll-title="Live Demos" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Live Demonstrations</h2>
						<p class="section-subtitle">Click any image to open the lightbox. Use arrow keys to navigate, Escape to close.</p>

						<!-- Basic Gallery -->
						<div class="demo-subsection" data-animate="fade-up">
							<h3>Basic Gallery</h3>
							<p>A straightforward masonry grid. Click a thumbnail and you're in the lightbox &mdash; prev, next, zoom, the lot.</p>

							<div class="demo-container">
								<div data-image-gallery data-image-gallery-columns="4" data-image-gallery-gap="10">
									<div data-gallery-item>
										<img src="https://picsum.photos/id/10/800/600" alt="Woodland path" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/14/600/800" alt="Hilltop view" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/15/800/500" alt="River at dusk" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/17/600/600" alt="Coastline" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/19/800/700" alt="Mountain trail" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/20/700/800" alt="Forest canopy" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/24/800/450" alt="Harbour scene" loading="lazy">
									</div>
									<div data-gallery-item>
										<img src="https://picsum.photos/id/28/600/700" alt="Country lane" loading="lazy">
									</div>
								</div>
							</div>
						</div>

						<!-- Gallery with Titles and Captions -->
						<div class="demo-subsection delay-1" data-animate="fade-up">
							<h3>Gallery with Titles and Captions</h3>
							<p>Each image can have an optional title and caption that appear in the lightbox info bar. Pretty handy for portfolio work or anything that needs a bit of context.</p>

							<div class="demo-container">
								<div data-image-gallery data-image-gallery-columns="3" data-image-gallery-gap="12">
									<div data-gallery-item data-gallery-title="Morning Light" data-gallery-caption="Early sunlight breaking through the trees near the river walk.">
										<img src="https://picsum.photos/id/29/800/600" alt="Morning light through trees" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Old Town" data-gallery-caption="Narrow streets and worn cobblestones. The kind of place that tells its own story.">
										<img src="https://picsum.photos/id/36/600/800" alt="Old town streets" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="The Coast" data-gallery-caption="Taken on a blustery afternoon &mdash; the sea was in no mood to cooperate with the camera.">
										<img src="https://picsum.photos/id/37/800/500" alt="Coastal view" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Garden Wall" data-gallery-caption="Overgrown in the best possible way.">
										<img src="https://picsum.photos/id/42/700/700" alt="Garden wall with plants" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Bridge Crossing" data-gallery-caption="An old footbridge that's seen better days, though it's still standing &mdash; which is more than can be said for some things.">
										<img src="https://picsum.photos/id/43/800/600" alt="Old footbridge" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Sunset, Eventually" data-gallery-caption="We waited about forty minutes for this. Worth it.">
										<img src="https://picsum.photos/id/49/700/500" alt="Sunset scene" loading="lazy">
									</div>
								</div>
							</div>
						</div>

						<!-- Mixed Media Gallery -->
						<div class="demo-subsection delay-2" data-animate="fade-up">
							<h3>Mixed Media &mdash; Images and Video</h3>
							<p>Gallery items can be images or HTML5 video. Video items get a play icon overlay on the thumbnail and open with native player controls in the lightbox.</p>

							<div class="demo-container">
								<div data-image-gallery data-image-gallery-columns="3" data-image-gallery-gap="12">
									<div data-gallery-item data-gallery-title="Landscape">
										<img src="https://picsum.photos/id/53/800/600" alt="Open landscape" loading="lazy">
									</div>
									<div data-gallery-item
										data-gallery-type="video"
										data-gallery-video-src="../../assets/video/slow_motion_soft_cloudscape_01.mp4"
										data-gallery-poster="https://picsum.photos/id/55/800/500"
										data-gallery-title="Soft Cloudscape"
										data-gallery-caption="Slow-motion clouds drifting across the sky. Strangely calming.">
										<img src="https://picsum.photos/id/55/800/500" alt="Cloudscape video thumbnail" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Rooftops">
										<img src="https://picsum.photos/id/58/600/800" alt="City rooftops" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Still Water">
										<img src="https://picsum.photos/id/59/800/600" alt="Still water reflection" loading="lazy">
									</div>
								</div>
							</div>
						</div>

						<!-- Compact 2-Column Gallery -->
						<div class="demo-subsection delay-3" data-animate="fade-up">
							<h3>Compact Two-Column Layout</h3>
							<p>Set <code>data-image-gallery-columns="2"</code> for a simpler grid. Works well in narrower containers or when you want the images to have a bit more breathing room.</p>

							<div class="demo-container">
								<div data-image-gallery data-image-gallery-columns="2" data-image-gallery-gap="16">
									<div data-gallery-item data-gallery-title="Quiet Corner" data-gallery-caption="Found this tucked away behind a bookshop.">
										<img src="https://picsum.photos/id/65/800/600" alt="Quiet corner" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Field Notes" data-gallery-caption="Late afternoon, somewhere in the Cotswolds.">
										<img src="https://picsum.photos/id/68/700/800" alt="Open field" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="The Window">
										<img src="https://picsum.photos/id/69/800/500" alt="Window view" loading="lazy">
									</div>
									<div data-gallery-item data-gallery-title="Stairwell">
										<img src="https://picsum.photos/id/75/600/800" alt="Spiral stairwell" loading="lazy">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- FEATURES SECTION -->
			<!-- ============================================ -->
			<section id="features" class="features-section" data-scroll-section data-scroll-title="Features" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Key Features</h2>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">+</div>
								<h3>Smooth Zoom</h3>
								<p>Click to zoom in, drag to pan around. Zoom controls and keyboard shortcuts for precise adjustments. It does what you'd expect it to do.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">#</div>
								<h3>Masonry Layout</h3>
								<p>A Pinterest-style grid that handles images of different sizes gracefully. No cropping, no awkward gaps &mdash; just a clean, natural flow.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">&#9654;</div>
								<h3>Video Support</h3>
								<p>Mix images and HTML5 video in the same gallery. Videos play in the lightbox with native controls &mdash; nothing fancy, just reliable.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">&#8596;</div>
								<h3>Keyboard Navigation</h3>
								<p>Arrow keys to navigate, Escape to close, plus and minus to zoom. Tab through thumbnails with Enter to open. Fully accessible.</p>
							</div>

							<div class="feature-card delay-5" data-animate="fade-up">
								<div class="feature-icon">&#8704;</div>
								<h3>Responsive Grid</h3>
								<p>Four columns on desktop, three on tablet, two on mobile, one on small screens. The column count adapts automatically &mdash; or set your own.</p>
							</div>

							<div class="feature-card delay-6" data-animate="fade-up">
								<div class="feature-icon">&#123;&#125;</div>
								<h3>Fully Themeable</h3>
								<p>CSS custom properties for everything from overlay colour to button styles. Fits seamlessly into any design without fighting the stylesheet.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- CONFIGURATION SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Configuration" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Configuration and Options</h2>

						<div class="config-content">
							<h3>Container Attributes</h3>
							<p>These go on the gallery container element:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Default</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-image-gallery</code></td>
										<td>-</td>
										<td>required</td>
										<td>Initialises the gallery component on the container element</td>
									</tr>
									<tr>
										<td><code>data-image-gallery-columns</code></td>
										<td>Number</td>
										<td><code>4</code></td>
										<td>Number of columns in the masonry grid</td>
									</tr>
									<tr>
										<td><code>data-image-gallery-gap</code></td>
										<td>Number (px)</td>
										<td><code>10</code></td>
										<td>Gap between gallery items in pixels</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Item Attributes</h3>
							<p>These go on individual gallery items:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Default</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-gallery-item</code></td>
										<td>-</td>
										<td>required</td>
										<td>Marks the element as a gallery item</td>
									</tr>
									<tr>
										<td><code>data-gallery-title</code></td>
										<td>Text</td>
										<td>-</td>
										<td>Optional title shown in the lightbox info bar</td>
									</tr>
									<tr>
										<td><code>data-gallery-caption</code></td>
										<td>Text</td>
										<td>-</td>
										<td>Optional caption shown below the title</td>
									</tr>
									<tr>
										<td><code>data-gallery-src</code></td>
										<td>URL</td>
										<td>thumbnail src</td>
										<td>Full-size image URL for the lightbox (if different from the thumbnail)</td>
									</tr>
									<tr>
										<td><code>data-gallery-type</code></td>
										<td><code>image</code> / <code>video</code></td>
										<td><code>image</code></td>
										<td>Type of media for this item</td>
									</tr>
									<tr>
										<td><code>data-gallery-video-src</code></td>
										<td>URL</td>
										<td>-</td>
										<td>Video source URL (required when type is video)</td>
									</tr>
									<tr>
										<td><code>data-gallery-poster</code></td>
										<td>URL</td>
										<td>-</td>
										<td>Poster image for video items</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Keyboard Shortcuts</h3>
							<p>When the lightbox is open:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Key</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>Escape</code></td>
										<td>Close lightbox</td>
									</tr>
									<tr>
										<td><code>Left Arrow</code></td>
										<td>Previous item</td>
									</tr>
									<tr>
										<td><code>Right Arrow</code></td>
										<td>Next item</td>
									</tr>
									<tr>
										<td><code>+</code> / <code>=</code></td>
										<td>Zoom in</td>
									</tr>
									<tr>
										<td><code>-</code></td>
										<td>Zoom out</td>
									</tr>
									<tr>
										<td><code>0</code></td>
										<td>Reset zoom</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- USAGE EXAMPLES SECTION -->
			<!-- ============================================ -->
			<section class="faq-section" data-scroll-section data-scroll-title="Usage Examples" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Usage Examples</h2>

						<div data-accordion data-accordion-multiple="true">
							<div data-accordion-item class="active">
								<div data-accordion-header>Basic Image Gallery</div>
								<div data-accordion-content>
									<div>
										<p>The simplest setup &mdash; just a container with some images:</p>
										<pre><code>&lt;div data-image-gallery data-image-gallery-columns="4"&gt;
  &lt;div data-gallery-item&gt;
    &lt;img src="photo-1.jpg" alt="Description"&gt;
  &lt;/div&gt;
  &lt;div data-gallery-item&gt;
    &lt;img src="photo-2.jpg" alt="Description"&gt;
  &lt;/div&gt;
  &lt;div data-gallery-item&gt;
    &lt;img src="photo-3.jpg" alt="Description"&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>With Titles and Captions</div>
								<div data-accordion-content>
									<div>
										<p>Add titles and captions that appear in the lightbox info bar:</p>
										<pre><code>&lt;div data-image-gallery&gt;
  &lt;div data-gallery-item
    data-gallery-title="Morning Light"
    data-gallery-caption="Taken at sunrise near the river."&gt;
    &lt;img src="morning.jpg" alt="Morning light"&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Separate Thumbnail and Full-Size Images</div>
								<div data-accordion-content>
									<div>
										<p>Use smaller thumbnails in the grid and load the full-size image in the lightbox &mdash; a good approach for performance:</p>
										<pre><code>&lt;div data-image-gallery&gt;
  &lt;div data-gallery-item data-gallery-src="full-size.jpg"&gt;
    &lt;img src="thumbnail.jpg" alt="Description"&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Adding Video Items</div>
								<div data-accordion-content>
									<div>
										<p>Set the type to video and provide a source. The thumbnail image gets a play icon overlay automatically:</p>
										<pre><code>&lt;div data-image-gallery&gt;
  &lt;div data-gallery-item
    data-gallery-type="video"
    data-gallery-video-src="clip.mp4"
    data-gallery-poster="poster.jpg"
    data-gallery-title="Time Lapse"
    data-gallery-caption="Sped up just a touch."&gt;
    &lt;img src="poster.jpg" alt="Video thumbnail"&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Listening to Events</div>
								<div data-accordion-content>
									<div>
										<p>Hook into gallery events to integrate with other functionality:</p>
										<pre><code>const gallery = document.querySelector('[data-image-gallery]');

gallery.addEventListener('battersea:galleryOpen', (e) =&gt; {
  console.log('Opened item:', e.detail.index);
});

gallery.addEventListener('battersea:galleryChange', (e) =&gt; {
  console.log('Navigated to:', e.detail.index, e.detail.direction);
});

gallery.addEventListener('battersea:galleryClose', () =&gt; {
  console.log('Gallery closed');
});</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Custom Styling</div>
								<div data-accordion-content>
									<div>
										<p>Override the CSS custom properties to match your design:</p>
										<pre><code>:root {
  --battersea-gallery-columns: 3;
  --battersea-gallery-gap: 16px;
  --battersea-gallery-radius: 12px;
  --battersea-gallery-overlay-bg: rgba(0, 0, 0, 0.95);
  --battersea-gallery-arrow-bg: rgba(255, 255, 255, 0.2);
  --battersea-gallery-info-bg: rgba(0, 0, 0, 0.7);
}</code></pre>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- ACCESSIBILITY SECTION -->
			<!-- ============================================ -->
			<section id="accessibility" class="features-section" data-scroll-section data-scroll-title="Accessibility" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Accessibility</h2>
						<p class="section-subtitle">Built with everyone in mind</p>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">Tab</div>
								<h3>Keyboard Navigation</h3>
								<p>Tab through gallery thumbnails, Enter to open, arrow keys to navigate in the lightbox, Escape to close. No mouse needed.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">[ ]</div>
								<h3>Focus Management</h3>
								<p>Focus moves to the close button when the lightbox opens and returns to the thumbnail when it closes. Keeps keyboard users oriented.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">A11y</div>
								<h3>ARIA Labels</h3>
								<p>The lightbox has proper role and aria-modal attributes. All buttons have descriptive aria-labels. Screen readers know what's going on.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">Alt</div>
								<h3>Alt Text Support</h3>
								<p>Alt text from thumbnail images carries through to the lightbox. Descriptive text for every visual element.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- BROWSER SUPPORT SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Browser Support" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Browser Support</h2>
						<p class="section-subtitle">Works in all modern browsers</p>

						<div class="browser-grid">
							<div class="browser-item">
								<div class="browser-icon">Ch</div>
								<h4>Chrome</h4>
								<p>90+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ff</div>
								<h4>Firefox</h4>
								<p>88+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Sa</div>
								<h4>Safari</h4>
								<p>14+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ed</div>
								<h4>Edge</h4>
								<p>90+</p>
							</div>
						</div>

						<p style="margin-top: 2rem; text-align: center; color: #666;">
							Uses CSS <code>column-count</code> for the masonry layout, CSS custom properties for theming,
							and standard DOM APIs for the lightbox. Nothing exotic &mdash; just well-supported fundamentals.
						</p>
					</div>
				</div>
			</section>

		</div>

		<!-- Footer Include -->
		<div id="demo-footer-placeholder"></div>

		<!-- SmoothScroll Navigation -->
		<div data-smoothscroll
			data-smoothscroll-header-selector="#mainHeader"
			data-smoothscroll-position="right"
			data-smoothscroll-duration="800"
			data-smoothscroll-easing="ease-out"
			data-smoothscroll-hide-mobile="true">
		</div>


		<!-- Battersea Library JavaScript -->
		<script src="../../src/js/battersea-utils.js"></script>
		<script src="../../src/js/battersea-core.js"></script>
  <script src="../../src/js/battersea-nav-data.js"></script>
		<script src="../../src/js/battersea-animation.js"></script>
		<script src="../../src/js/battersea-accordion.js"></script>
		<script src="../../src/js/battersea-header.js"></script>
		<script src="../../src/js/battersea-horizontalnav.js"></script>
		<script src="../../src/js/battersea-tooltip.js"></script>
		<script src="../../src/js/battersea-smoothscroll.js"></script>
		<script src="../../src/js/battersea-imagegallery.js"></script>
		<script src="../../src/js/battersea-accessibility.js"></script>
		<script src="../../src/js/battersea-breadcrumbs.js"></script>

		<!-- Include Loader Script -->
		<script>
			function loadInclude(url, placeholderId) {
				return fetch(url)
				.then(response => {
					if (!response.ok) {
						throw new Error(`Failed to load ${url}: ${response.status}`);
					}
					return response.text();
				})
				.then(html => {
					const placeholder = document.getElementById(placeholderId);
					if (placeholder) {
						placeholder.innerHTML = html;
					}
				})
				.catch(err => {
					console.error(`Error loading ${url}:`, err);
				});
			}

			// Load all includes when DOM is ready
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', loadIncludes);
			} else {
				loadIncludes();
			}
			function loadIncludes() {
				// Load includes in order - nav must load after header since demo-nav-nested is inside the header include
				Promise.all([
					loadInclude('../../includes/preHeader.html', 'demo-preheader-placeholder'),
					loadInclude('../../includes/demo-header-component.html', 'mainHeader'),
					loadInclude('../../includes/demo-footer.html', 'demo-footer-placeholder')
				]).then(() => {
					return loadInclude('../../includes/demo-nav.html', 'demo-nav-nested');
				}).then(() => {
					console.log('All includes loaded successfully');
				});
			}
		</script>
	</body>
</html>
