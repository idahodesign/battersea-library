<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>HorizontalNav Component - Battersea Library</title>
		<meta name="description" content="Multi-level horizontal dropdown navigation with up to 4 levels - Battersea Library Component">

		<!-- LESS Stylesheets -->
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-library.less">
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-demo-site.less">

		<!-- LESS.js Configuration & Compiler -->
		<script>
			less = {
				env: 'development',
				async: false,
				fileAsync: false,
				poll: 1000,
				logLevel: 2,
				globalVars: {
					'primary-color': '#667eea',
					'secondary-color': '#764ba2',
					'accent-color': '#4ecdc4'
				}
			};
		</script>
		<script src="https://cdn.jsdelivr.net/npm/less@4.2.0"></script>

		<!-- Environment Configuration (must load before includes) -->
		<script src="../../src/js/battersea-env-config.js"></script>

		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

			/* Standalone demo nav styling */
			.demo-inline-nav {
				background: rgba(255, 255, 255, 0.08);
				border-radius: 12px;
				padding: 2rem;
				margin-top: 1.5rem;
			}
			.demo-inline-nav .battersea-hnav {
				justify-content: centre;
			}
		</style>
	</head>
	<body>
		<div id="site-background" class="site-background-image"></div>

		<!-- PreHeader Include (GTM, etc) -->
		<div id="demo-preheader-placeholder" class="battersea-header-pre"></div>

		<!-- Header Component with Navigation -->
		<header id="mainHeader" class="battersea-header"
			data-header
			data-sticky="true"
			data-shrink="true"
			data-shrink-offset="100"
			data-shrink-height="60"
			data-layout="right-align"
			data-transition-speed="0.3"></header>

		<div class="content-outer">

			<!-- Breadcrumb -->
			<div data-breadcrumb></div>

			<!-- ============================================ -->
			<!-- HERO SECTION -->
			<!-- ============================================ -->
			<section class="hero-section" data-scroll-section data-scroll-title="Introduction" data-animate="fade-up">
				<div class="section-box">
					<div class="hero-content">
						<h1>HorizontalNav Component</h1>
						<p class="hero-subtitle">Multi-level horizontal dropdown navigation with up to 4 levels of depth</p>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- LIVE DEMO SECTION -->
			<!-- ============================================ -->
			<section id="demos" class="showcase-section" data-scroll-section data-scroll-title="Live Demo" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">It's Already Running</h2>
						<p class="section-subtitle">The navigation in the header above is a HorizontalNav component</p>

						<div class="demo-subsection" data-animate="fade-up">
							<h3>What to look for in the header</h3>
							<p>The main navigation bar at the top of this page is powered by the HorizontalNav component. Here's what you can try:</p>

							<div class="demo-container" style="text-align: left;">
								<ol style="line-height: 2; padding-left: 1.5rem;">
									<li>Hover over any top-level menu item that has a small arrow &mdash; a dropdown panel slides down</li>
									<li>Within a dropdown, hover over items with a side arrow &mdash; a flyout panel appears to the right (or left, if there isn't enough space)</li>
									<li>Move your mouse away &mdash; the menus close after a short delay, giving you time to move between levels</li>
									<li>Try pressing <strong>Escape</strong> &mdash; all open menus close immediately</li>
									<li>Resize your browser below 768px &mdash; the component switches to mobile overlay mode</li>
								</ol>
							</div>
						</div>

						<div class="demo-subsection delay-1" data-animate="fade-up">
							<h3>Standalone Example</h3>
							<p>Here's a simple two-level navigation to show the structure more clearly. Hover over each item to see its dropdown:</p>

							<div class="demo-inline-nav">
								<nav data-horizontal-nav data-nav-hover-delay="200" data-nav-edge-threshold="250">
									<ul class="battersea-hnav">
										<li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
											<a href="#" class="battersea-hnav__link">Products</a>
											<ul class="battersea-hnav__dropdown">
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Widgets</a>
												</li>
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Gadgets</a>
												</li>
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Accessories</a>
												</li>
											</ul>
										</li>
										<li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
											<a href="#" class="battersea-hnav__link">Services</a>
											<ul class="battersea-hnav__dropdown">
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Consulting</a>
												</li>
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Training</a>
												</li>
											</ul>
										</li>
										<li class="battersea-hnav__item battersea-hnav__item--has-dropdown">
											<a href="#" class="battersea-hnav__link">About</a>
											<ul class="battersea-hnav__dropdown">
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Our Story</a>
												</li>
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">The Team</a>
												</li>
												<li class="battersea-hnav__dropdown-item">
													<a href="#" class="battersea-hnav__dropdown-link">Careers</a>
												</li>
											</ul>
										</li>
									</ul>
								</nav>
							</div>
						</div>

						<div class="demo-subsection delay-2" data-animate="fade-up">
							<h3>Navigation levels explained</h3>
							<p>The component supports up to four levels of navigation, each with its own interaction pattern:</p>

							<div class="demo-container" style="text-align: left;">
								<ol style="line-height: 2; padding-left: 1.5rem;">
									<li><strong>Level 1 &mdash; Main items:</strong> Always visible in the header bar. Hover to open dropdowns</li>
									<li><strong>Level 2 &mdash; Dropdowns:</strong> Slide down below the main item. Hover to reveal flyouts</li>
									<li><strong>Level 3 &mdash; Flyouts:</strong> Slide out to the side. Smart edge detection flips them left when near the viewport edge</li>
									<li><strong>Level 4 &mdash; Accordions:</strong> Click to expand within a flyout. Only one accordion open at a time per flyout</li>
								</ol>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- FEATURES SECTION -->
			<!-- ============================================ -->
			<section id="features" class="features-section" data-scroll-section data-scroll-title="Features" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Key Features</h2>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">4</div>
								<h3>Four Levels Deep</h3>
								<p>Supports main items, dropdowns, flyouts, and accordions &mdash; enough depth for even the most complex site structures.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">&lt;&gt;</div>
								<h3>Smart Edge Detection</h3>
								<p>Flyout panels automatically flip to the left when there isn't enough space on the right. No more menus disappearing off-screen.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">~</div>
								<h3>Hover Delay</h3>
								<p>Configurable delay before menus close, so users can comfortably move their mouse between levels without everything snapping shut.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">A11y</div>
								<h3>ARIA Attributes</h3>
								<p>Proper <code>aria-haspopup</code>, <code>aria-expanded</code>, and keyboard navigation. Works with screen readers and keyboard-only browsing.</p>
							</div>

							<div class="feature-card delay-5" data-animate="fade-up">
								<div class="feature-icon">&#9881;</div>
								<h3>Active Page Highlighting</h3>
								<p>Automatically detects the current URL and highlights the matching link, plus adds an active trail up through parent menus.</p>
							</div>

							<div class="feature-card delay-6" data-animate="fade-up">
								<div class="feature-icon">{ }</div>
								<h3>Rich Custom Events</h3>
								<p>Events for every interaction &mdash; dropdown open/close, flyout open/close, accordion open/close, and mobile mode switch.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- CONFIGURATION SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Configuration" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Configuration &amp; Options</h2>

						<div class="config-content">
							<h3>Data Attributes</h3>
							<p>Configure the HorizontalNav component using these data attributes on the <code>&lt;nav&gt;</code> container:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Default</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-horizontal-nav</code></td>
										<td>-</td>
										<td>required</td>
										<td>Initialises the HorizontalNav component on the container element</td>
									</tr>
									<tr>
										<td><code>data-nav-hover-delay</code></td>
										<td>number (ms)</td>
										<td><code>200</code></td>
										<td>Delay in milliseconds before a dropdown or flyout closes after the mouse leaves</td>
									</tr>
									<tr>
										<td><code>data-nav-edge-threshold</code></td>
										<td>number (px)</td>
										<td><code>250</code></td>
										<td>Minimum space (in pixels) required on the right side of the viewport before a flyout flips to the left</td>
									</tr>
									<tr>
										<td><code>data-nav-mobile-breakpoint</code></td>
										<td>number (px)</td>
										<td><code>768</code></td>
										<td>Viewport width below which the component switches to mobile mode</td>
									</tr>
									<tr>
										<td><code>data-nav-mobile-mode</code></td>
										<td><code>overlay</code></td>
										<td><code>overlay</code></td>
										<td>Mobile navigation mode. Currently supports overlay</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">CSS Classes</h3>
							<p>The component uses BEM-style classes for its HTML structure:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Class</th>
										<th>Element</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>battersea-hnav</code></td>
										<td><code>&lt;ul&gt;</code></td>
										<td>The top-level navigation list container</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item</code></td>
										<td><code>&lt;li&gt;</code></td>
										<td>A top-level menu item</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__link</code></td>
										<td><code>&lt;a&gt;</code></td>
										<td>Link inside a top-level item</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__dropdown</code></td>
										<td><code>&lt;ul&gt;</code></td>
										<td>Level 2 dropdown list</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__dropdown-item</code></td>
										<td><code>&lt;li&gt;</code></td>
										<td>An item inside a dropdown</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__dropdown-link</code></td>
										<td><code>&lt;a&gt;</code></td>
										<td>Link inside a dropdown item</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__flyout</code></td>
										<td><code>&lt;ul&gt;</code></td>
										<td>Level 3 flyout list</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__flyout-item</code></td>
										<td><code>&lt;li&gt;</code></td>
										<td>An item inside a flyout</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__flyout-link</code></td>
										<td><code>&lt;a&gt;</code></td>
										<td>Link inside a flyout item</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__accordion</code></td>
										<td><code>&lt;ul&gt;</code></td>
										<td>Level 4 accordion list (click to expand within a flyout)</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Modifier Classes</h3>
							<p>The component automatically adds these modifier classes as needed:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Class</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>battersea-hnav__item--has-dropdown</code></td>
										<td>Added to items that contain a dropdown submenu</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item--has-flyout</code></td>
										<td>Added to dropdown items that contain a flyout</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item--has-accordion</code></td>
										<td>Added to flyout items that contain an accordion</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item--open</code></td>
										<td>Applied when a dropdown is visible</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item--flyout-open</code></td>
										<td>Applied when a flyout is visible</td>
									</tr>
									<tr>
										<td><code>battersea-hnav__item--accordion-open</code></td>
										<td>Applied when an accordion is expanded</td>
									</tr>
									<tr>
										<td><code>active</code></td>
										<td>Applied to the link matching the current page URL</td>
									</tr>
									<tr>
										<td><code>active-trail</code></td>
										<td>Applied to parent list items up the chain from the active link</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- USAGE EXAMPLES SECTION -->
			<!-- ============================================ -->
			<section class="faq-section" data-scroll-section data-scroll-title="Usage Examples" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Usage Examples</h2>

						<div data-accordion data-accordion-multiple="true">
							<div data-accordion-item class="active">
								<div data-accordion-header>Two-Level Navigation</div>
								<div data-accordion-content>
									<div>
										<p>The most common setup &mdash; a main nav with dropdown submenus:</p>
<pre><code>&lt;nav data-horizontal-nav&gt;
  &lt;ul class="battersea-hnav"&gt;
    &lt;li class="battersea-hnav__item"&gt;
      &lt;a href="/" class="battersea-hnav__link"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="battersea-hnav__item battersea-hnav__item--has-dropdown"&gt;
      &lt;a href="#" class="battersea-hnav__link"&gt;Products&lt;/a&gt;
      &lt;ul class="battersea-hnav__dropdown"&gt;
        &lt;li class="battersea-hnav__dropdown-item"&gt;
          &lt;a href="/widgets" class="battersea-hnav__dropdown-link"&gt;Widgets&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="battersea-hnav__dropdown-item"&gt;
          &lt;a href="/gadgets" class="battersea-hnav__dropdown-link"&gt;Gadgets&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li class="battersea-hnav__item"&gt;
      &lt;a href="/contact" class="battersea-hnav__link"&gt;Contact&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Three-Level Navigation with Flyouts</div>
								<div data-accordion-content>
									<div>
										<p>Adding a third level with flyout menus that appear to the side of dropdown items:</p>
<pre><code>&lt;nav data-horizontal-nav data-nav-edge-threshold="300"&gt;
  &lt;ul class="battersea-hnav"&gt;
    &lt;li class="battersea-hnav__item battersea-hnav__item--has-dropdown"&gt;
      &lt;a href="#" class="battersea-hnav__link"&gt;Products&lt;/a&gt;
      &lt;ul class="battersea-hnav__dropdown"&gt;
        &lt;li class="battersea-hnav__dropdown-item battersea-hnav__item--has-flyout"&gt;
          &lt;a href="#" class="battersea-hnav__dropdown-link"&gt;Electronics&lt;/a&gt;
          &lt;ul class="battersea-hnav__flyout"&gt;
            &lt;li class="battersea-hnav__flyout-item"&gt;
              &lt;a href="/phones" class="battersea-hnav__flyout-link"&gt;Phones&lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="battersea-hnav__flyout-item"&gt;
              &lt;a href="/tablets" class="battersea-hnav__flyout-link"&gt;Tablets&lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/li&gt;
        &lt;li class="battersea-hnav__dropdown-item"&gt;
          &lt;a href="/clothing" class="battersea-hnav__dropdown-link"&gt;Clothing&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre>
										<p>The <code>data-nav-edge-threshold="300"</code> increases the space threshold &mdash; flyouts will flip to the left sooner if you want more breathing room near the edge.</p>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Four-Level Navigation with Accordions</div>
								<div data-accordion-content>
									<div>
										<p>The full four-level setup, with click-to-expand accordions inside flyouts:</p>
<pre><code>&lt;li class="battersea-hnav__flyout-item battersea-hnav__item--has-accordion"&gt;
  &lt;a href="#" class="battersea-hnav__flyout-link"&gt;Subcategory&lt;/a&gt;
  &lt;ul class="battersea-hnav__accordion"&gt;
    &lt;li&gt;&lt;a href="/item-1"&gt;Item 1&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/item-2"&gt;Item 2&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/item-3"&gt;Item 3&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/li&gt;</code></pre>
										<p>Accordion items are click-activated (not hover), and only one accordion can be open at a time within the same flyout. They animate with a smooth max-height transition.</p>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Custom Hover Delay</div>
								<div data-accordion-content>
									<div>
										<p>Adjust the hover delay to suit your audience. A longer delay is more forgiving for less precise mouse users:</p>
<pre><code>&lt;!-- Fast close (100ms) - for power users --&gt;
&lt;nav data-horizontal-nav data-nav-hover-delay="100"&gt;
  &lt;!-- ... --&gt;
&lt;/nav&gt;

&lt;!-- Relaxed close (400ms) - more forgiving --&gt;
&lt;nav data-horizontal-nav data-nav-hover-delay="400"&gt;
  &lt;!-- ... --&gt;
&lt;/nav&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Listening to Events</div>
								<div data-accordion-content>
									<div>
										<p>The component dispatches events for every interaction. Here's how to listen:</p>
<pre><code>const nav = document.querySelector('[data-horizontal-nav]');

nav.addEventListener('battersea:hnavDropdownOpen', (e) =&gt; {
  console.log('Dropdown opened:', e.detail.item);
});

nav.addEventListener('battersea:hnavDropdownClose', (e) =&gt; {
  console.log('Dropdown closed:', e.detail.item);
});

nav.addEventListener('battersea:hnavFlyoutOpen', (e) =&gt; {
  console.log('Flyout opened:', e.detail.item);
});

nav.addEventListener('battersea:hnavFlyoutClose', (e) =&gt; {
  console.log('Flyout closed:', e.detail.item);
});

nav.addEventListener('battersea:hnavAccordionOpen', (e) =&gt; {
  console.log('Accordion expanded:', e.detail.item);
});

nav.addEventListener('battersea:hnavAccordionClose', (e) =&gt; {
  console.log('Accordion collapsed:', e.detail.item);
});

nav.addEventListener('battersea:hnavMobileMode', (e) =&gt; {
  console.log('Switched to mobile mode:', e.detail.mode);
});</code></pre>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- BROWSER SUPPORT SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Browser Support" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Browser Support</h2>
						<p class="section-subtitle">Works in all modern browsers</p>

						<div class="browser-grid">
							<div class="browser-item">
								<div class="browser-icon">Ch</div>
								<h4>Chrome</h4>
								<p>90+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ff</div>
								<h4>Firefox</h4>
								<p>88+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Sa</div>
								<h4>Safari</h4>
								<p>14+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ed</div>
								<h4>Edge</h4>
								<p>90+</p>
							</div>
						</div>

						<p style="margin-top: 2rem; text-align: center; color: #666;">
							Uses <code>Map</code>, <code>Set</code>, CSS transitions, and custom events.
							The component uses <code>getBoundingClientRect()</code> for smart edge detection &mdash; all well-supported in modern browsers.
						</p>
					</div>
				</div>
			</section>


			<!-- Page Navigation -->
			<div data-pagenav data-pagenav-mode="pages" data-pagenav-show-category="true"></div>

		</div>

		<!-- Footer Include -->
		<div id="demo-footer-placeholder"></div>

		<!-- SmoothScroll Navigation -->
		<div data-smoothscroll
			data-smoothscroll-header-selector="#mainHeader"
			data-smoothscroll-position="right"
			data-smoothscroll-duration="800"
			data-smoothscroll-easing="ease-out"
			data-smoothscroll-hide-mobile="true">
		</div>

		<!-- Back to Top -->
		<div data-backtotop></div>

		<!-- Battersea Library JavaScript -->
		<script src="../../src/js/battersea-utils.js"></script>
		<script src="../../src/js/battersea-core.js"></script>
  <script src="../../src/js/battersea-nav-data.js"></script>
		<script src="../../src/js/battersea-animation.js"></script>
		<script src="../../src/js/battersea-accordion.js"></script>
		<script src="../../src/js/battersea-header.js"></script>
		<script src="../../src/js/battersea-horizontalnav.js"></script>
		<script src="../../src/js/battersea-tooltip.js"></script>
		<script src="../../src/js/battersea-smoothscroll.js"></script>
		<script src="../../src/js/battersea-accessibility.js"></script>
		<script src="../../src/js/battersea-breadcrumbs.js"></script>
tt<script src="../../src/js/battersea-pagenav.js"></script>
  <script src="../../src/js/battersea-backtotop.js"></script>

		<!-- Include Loader Script -->
		<script>
			function loadInclude(url, placeholderId) {
				return fetch(url)
				.then(response => {
					if (!response.ok) {
						throw new Error(`Failed to load ${url}: ${response.status}`);
					}
					return response.text();
				})
				.then(html => {
					const placeholder = document.getElementById(placeholderId);
					if (placeholder) {
						placeholder.innerHTML = html;
					}
				})
				.catch(err => {
					console.error(`Error loading ${url}:`, err);
				});
			}

			// Load all includes when DOM is ready
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', loadIncludes);
			} else {
				loadIncludes();
			}
			function loadIncludes() {
				// Load includes in order - nav must load after header since demo-nav-nested is inside the header include
				Promise.all([
					loadInclude('../../includes/preHeader.html', 'demo-preheader-placeholder'),
					loadInclude('../../includes/demo-header-component.html', 'mainHeader'),
					loadInclude('../../includes/demo-footer.html', 'demo-footer-placeholder')
				]).then(() => {
					return loadInclude('../../includes/demo-nav.html', 'demo-nav-nested');
				}).then(() => {
					console.log('All includes loaded successfully');
				});
			}
		</script>
	</body>
</html>
