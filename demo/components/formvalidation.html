<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Form Validation Component - Battersea Library</title>
		<meta name="description" content="Real-time form validation with password strength, custom rules and AJAX submission - Battersea Library Component">

		<!-- LESS Stylesheets -->
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-library.less">
		<link rel="stylesheet/less" type="text/css" href="../../src/css/battersea-demo-site.less">

		<!-- LESS.js Configuration & Compiler -->
		<script>
			less = {
				env: 'development',
				async: false,
				fileAsync: false,
				poll: 1000,
				logLevel: 2,
				globalVars: {
					'primary-color': '#667eea',
					'secondary-color': '#764ba2',
					'accent-color': '#4ecdc4'
				}
			};
		</script>
		<script src="https://cdn.jsdelivr.net/npm/less@4.2.0"></script>

		<!-- Environment Configuration (must load before includes) -->
		<script src="../../src/js/battersea-env-config.js"></script>

		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

			/* Demo form styling */
			.demo-form {
				max-width: 500px;
			}
			.demo-form .form-group {
				margin-bottom: 1.25rem;
			}
			.demo-form label {
				display: block;
				margin-bottom: 0.35rem;
				font-weight: 500;
				font-size: 0.95rem;
				color: #333;
			}
			.demo-form input,
			.demo-form textarea,
			.demo-form select {
				width: 100%;
				padding: 0.6rem 0.75rem;
				border: 1px solid #ddd;
				border-radius: 4px;
				font-family: inherit;
				font-size: 0.95rem;
				transition: border-color 0.2s, box-shadow 0.2s;
				box-sizing: border-box;
			}
			.demo-form input:focus,
			.demo-form textarea:focus,
			.demo-form select:focus {
				outline: none;
				border-color: #667eea;
				box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15);
			}
			.demo-form textarea {
				resize: vertical;
				min-height: 100px;
			}
			.demo-form button[type="submit"] {
				background: linear-gradient(135deg, #667eea, #764ba2);
				color: #fff;
				border: none;
				padding: 0.75rem 2rem;
				border-radius: 4px;
				font-size: 1rem;
				font-weight: 500;
				cursor: pointer;
				transition: opacity 0.2s;
			}
			.demo-form button[type="submit"]:hover {
				opacity: 0.9;
			}
			.demo-form button[type="reset"] {
				background: transparent;
				color: #666;
				border: 1px solid #ddd;
				padding: 0.75rem 1.5rem;
				border-radius: 4px;
				font-size: 0.95rem;
				cursor: pointer;
				margin-left: 0.5rem;
				transition: border-color 0.2s;
			}
			.demo-form button[type="reset"]:hover {
				border-color: #999;
			}
			.form-actions {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				margin-top: 1.5rem;
			}
		</style>
	</head>
	<body>
		<div id="site-background" class="site-background-image"></div>

		<!-- PreHeader Include (GTM, etc) -->
		<div id="demo-preheader-placeholder" class="battersea-header-pre"></div>

		<!-- Header Component with Navigation -->
		<header id="mainHeader" class="battersea-header"
			data-header
			data-sticky="true"
			data-shrink="true"
			data-shrink-offset="100"
			data-shrink-height="60"
			data-layout="right-align"
			data-transition-speed="0.3"></header>

		<div class="content-outer">

			<!-- Breadcrumb -->
			<div data-breadcrumb></div>

			<!-- ============================================ -->
			<!-- HERO SECTION -->
			<!-- ============================================ -->
			<section class="hero-section" data-scroll-section data-scroll-title="Introduction" data-animate="fade-up">
				<div class="section-box">
					<div class="hero-content">
						<h1>Form Validation Component</h1>
						<p class="hero-subtitle">Real-time form validation with password strength, custom rules and AJAX submission</p>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- LIVE DEMO SECTION -->
			<!-- ============================================ -->
			<section id="demos" class="showcase-section" data-scroll-section data-scroll-title="Live Demos" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Live Demonstrations</h2>
						<p class="section-subtitle">Try out the validation by filling in (or skipping) the fields below</p>

						<!-- Contact Form Demo -->
						<div class="demo-subsection" data-animate="fade-up">
							<h3>Contact Form</h3>
							<p>A standard contact form with the basics covered &mdash; required fields, email format, and a minimum message length. Leave a field and you'll see validation kick in straight away.</p>

							<div class="demo-container">
								<form data-form-validation class="demo-form">
									<div class="form-group">
										<label for="contact-name">Name</label>
										<input type="text" id="contact-name" name="name" data-validate="required" placeholder="Your full name">
									</div>
									<div class="form-group">
										<label for="contact-email">Email</label>
										<input type="text" id="contact-email" name="email" data-validate="required|email" placeholder="you@example.com">
									</div>
									<div class="form-group">
										<label for="contact-phone">Phone <span style="color: #999; font-weight: 400;">(optional)</span></label>
										<input type="text" id="contact-phone" name="phone" data-validate="phone" placeholder="+44 7700 900000">
									</div>
									<div class="form-group">
										<label for="contact-message">Message</label>
										<textarea id="contact-message" name="message" data-validate="required|min:10" placeholder="Tell us what you're after (at least 10 characters)"></textarea>
									</div>
									<div class="form-actions">
										<button type="submit">Send Message</button>
										<button type="reset">Clear</button>
									</div>
								</form>
							</div>
						</div>

						<!-- Registration Form Demo -->
						<div class="demo-subsection delay-1" data-animate="fade-up">
							<h3>Registration Form with Password Strength</h3>
							<p>This one's a bit more involved. The password field has rules for length, uppercase, lowercase, numbers and special characters. You'll see the strength bar fill up as you meet each rule. The confirm password field checks that both passwords match.</p>

							<div class="demo-container">
								<form data-form-validation class="demo-form">
									<div class="form-group">
										<label for="reg-username">Username</label>
										<input type="text" id="reg-username" name="username" data-validate="required|min:4|max:20" placeholder="4-20 characters">
									</div>
									<div class="form-group">
										<label for="reg-email">Email</label>
										<input type="text" id="reg-email" name="email" data-validate="required|email" placeholder="you@example.com">
									</div>
									<div class="form-group">
										<label for="reg-password">Password</label>
										<input type="password" id="reg-password" name="password" data-validate="required|min:8|uppercase|lowercase|number|special" placeholder="At least 8 characters, mixed case, number & special">
									</div>
									<div class="form-group">
										<label for="reg-confirm">Confirm Password</label>
										<input type="password" id="reg-confirm" name="confirm" data-validate="required|match:password" placeholder="Type your password again">
									</div>
									<div class="form-actions">
										<button type="submit">Create Account</button>
										<button type="reset">Clear</button>
									</div>
								</form>
							</div>
						</div>

						<!-- AJAX Form Demo -->
						<div class="demo-subsection delay-2" data-animate="fade-up">
							<h3>AJAX Form Submission</h3>
							<p>When <code>data-form-ajax="true"</code> is set, the form submits via fetch instead of a page reload. The submit button shows a loading state while the request is in flight, and a success or error message appears afterwards. This demo points at a dummy endpoint, so you'll see the error message &mdash; in production, it'd hit your actual API.</p>

							<div class="demo-container">
								<form data-form-validation data-form-ajax="true" data-form-action="#" data-form-success-message="Thanks for getting in touch." data-form-error-message="That didn't work. Please try again." class="demo-form">
									<div class="form-group">
										<label for="ajax-name">Name</label>
										<input type="text" id="ajax-name" name="name" data-validate="required" placeholder="Your name">
									</div>
									<div class="form-group">
										<label for="ajax-email">Email</label>
										<input type="text" id="ajax-email" name="email" data-validate="required|email" placeholder="you@example.com">
									</div>
									<div class="form-actions">
										<button type="submit">Submit via AJAX</button>
										<button type="reset">Clear</button>
									</div>
								</form>
							</div>
						</div>

						<!-- Custom Messages Demo -->
						<div class="demo-subsection delay-3" data-animate="fade-up">
							<h3>Custom Error Messages</h3>
							<p>You can override the default error messages per field or per rule. Here the email field has a custom message for the <code>required</code> rule, and the website field has a catch-all custom message.</p>

							<div class="demo-container">
								<form data-form-validation class="demo-form">
									<div class="form-group">
										<label for="custom-email">Email</label>
										<input type="text" id="custom-email" name="email" data-validate="required|email" data-validate-message-required="We need your email to get back to you." placeholder="you@example.com">
									</div>
									<div class="form-group">
										<label for="custom-website">Website</label>
										<input type="text" id="custom-website" name="website" data-validate="required|url" data-validate-message="Please enter your website address including https://" placeholder="https://yoursite.com">
									</div>
									<div class="form-actions">
										<button type="submit">Submit</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- FEATURES SECTION -->
			<!-- ============================================ -->
			<section id="features" class="features-section" data-scroll-section data-scroll-title="Features" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Key Features</h2>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">&#10003;</div>
								<h3>Validates on Blur</h3>
								<p>Fields are checked when the user leaves them. No distracting red messages while you're still typing.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">|</div>
								<h3>Pipe-Separated Rules</h3>
								<p>Stack as many rules as you like with a simple pipe syntax. <code>required|email|min:8</code> &mdash; done.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">&#9608;</div>
								<h3>Password Strength</h3>
								<p>Visual strength bar updates in real time as users type. Colour-coded from red through amber to green.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">Aa</div>
								<h3>Custom Messages</h3>
								<p>Override error text per field or per rule with data attributes. No need to touch the JavaScript.</p>
							</div>

							<div class="feature-card delay-5" data-animate="fade-up">
								<div class="feature-icon">&#8634;</div>
								<h3>AJAX Submission</h3>
								<p>Optional fetch-based form posting with loading states, success and error messages, all via data attributes.</p>
							</div>

							<div class="feature-card delay-6" data-animate="fade-up">
								<div class="feature-icon">&lt;</div>
								<h3>No Dependencies</h3>
								<p>Pure vanilla JS. Works with any backend, any framework, any setup.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- CONFIGURATION SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Configuration" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Configuration &amp; Options</h2>

						<div class="config-content">
							<h3>Form Attributes</h3>
							<p>These go on the <code>&lt;form&gt;</code> element:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Default</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-form-validation</code></td>
										<td>&mdash;</td>
										<td>required</td>
										<td>Activates the component on this form</td>
									</tr>
									<tr>
										<td><code>data-form-ajax</code></td>
										<td><code>true</code> / <code>false</code></td>
										<td><code>false</code></td>
										<td>Submit via fetch instead of page reload</td>
									</tr>
									<tr>
										<td><code>data-form-action</code></td>
										<td>URL</td>
										<td>form <code>action</code></td>
										<td>Endpoint for AJAX submission</td>
									</tr>
									<tr>
										<td><code>data-form-method</code></td>
										<td><code>POST</code> / <code>GET</code> / <code>PUT</code></td>
										<td>form <code>method</code> or POST</td>
										<td>HTTP method for AJAX submission</td>
									</tr>
									<tr>
										<td><code>data-form-success-message</code></td>
										<td>String</td>
										<td>"Form submitted successfully."</td>
										<td>Message shown after AJAX success</td>
									</tr>
									<tr>
										<td><code>data-form-error-message</code></td>
										<td>String</td>
										<td>"Something went wrong. Please try again."</td>
										<td>Message shown after AJAX failure</td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Field Attributes</h3>
							<p>These go on individual <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, or <code>&lt;select&gt;</code> elements:</p>

							<table class="config-table">
								<thead>
									<tr>
										<th>Attribute</th>
										<th>Values</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>data-validate</code></td>
										<td>Pipe-separated rules</td>
										<td>Validation rules, e.g. <code>"required|email"</code></td>
									</tr>
									<tr>
										<td><code>data-validate-message</code></td>
										<td>String</td>
										<td>Override all default error messages for this field</td>
									</tr>
									<tr>
										<td><code>data-validate-message-{rule}</code></td>
										<td>String</td>
										<td>Override for a specific rule, e.g. <code>data-validate-message-required</code></td>
									</tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Validation Rules</h3>

							<table class="config-table">
								<thead>
									<tr>
										<th>Rule</th>
										<th>Syntax</th>
										<th>Default Error Message</th>
									</tr>
								</thead>
								<tbody>
									<tr><td><code>required</code></td><td><code>required</code></td><td>This field is required.</td></tr>
									<tr><td><code>email</code></td><td><code>email</code></td><td>Please enter a valid email address.</td></tr>
									<tr><td><code>phone</code></td><td><code>phone</code></td><td>Please enter a valid phone number.</td></tr>
									<tr><td><code>url</code></td><td><code>url</code></td><td>Please enter a valid URL.</td></tr>
									<tr><td><code>min</code></td><td><code>min:N</code></td><td>Must be at least N characters.</td></tr>
									<tr><td><code>max</code></td><td><code>max:N</code></td><td>Must be no more than N characters.</td></tr>
									<tr><td><code>number</code></td><td><code>number</code></td><td>Must contain at least one number.</td></tr>
									<tr><td><code>uppercase</code></td><td><code>uppercase</code></td><td>Must contain at least one uppercase letter.</td></tr>
									<tr><td><code>lowercase</code></td><td><code>lowercase</code></td><td>Must contain at least one lowercase letter.</td></tr>
									<tr><td><code>special</code></td><td><code>special</code></td><td>Must contain at least one special character.</td></tr>
									<tr><td><code>match</code></td><td><code>match:fieldname</code></td><td>Fields do not match.</td></tr>
									<tr><td><code>pattern</code></td><td><code>pattern:regex</code></td><td>Invalid format.</td></tr>
								</tbody>
							</table>

							<h3 style="margin-top: 2rem;">Custom Events</h3>

							<table class="config-table">
								<thead>
									<tr>
										<th>Event</th>
										<th>Detail</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>battersea:fieldValid</code></td>
										<td><code>{ field }</code></td>
										<td>Fired when a field passes validation</td>
									</tr>
									<tr>
										<td><code>battersea:fieldInvalid</code></td>
										<td><code>{ field, message }</code></td>
										<td>Fired when a field fails validation</td>
									</tr>
									<tr>
										<td><code>battersea:formValid</code></td>
										<td>&mdash;</td>
										<td>Fired when all fields pass validation on submit</td>
									</tr>
									<tr>
										<td><code>battersea:formInvalid</code></td>
										<td><code>{ errors }</code></td>
										<td>Fired when validation fails on submit</td>
									</tr>
									<tr>
										<td><code>battersea:formSubmitted</code></td>
										<td><code>{ response }</code></td>
										<td>Fired after successful AJAX submission</td>
									</tr>
									<tr>
										<td><code>battersea:formError</code></td>
										<td><code>{ error }</code></td>
										<td>Fired after failed AJAX submission</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- USAGE EXAMPLES SECTION -->
			<!-- ============================================ -->
			<section class="faq-section" data-scroll-section data-scroll-title="Usage Examples" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Usage Examples</h2>

						<div data-accordion data-accordion-multiple="true">
							<div data-accordion-item class="active">
								<div data-accordion-header>Basic Contact Form</div>
								<div data-accordion-content>
									<div>
										<pre><code>&lt;form data-form-validation&gt;
  &lt;input type="text" name="name" data-validate="required"&gt;
  &lt;input type="text" name="email" data-validate="required|email"&gt;
  &lt;textarea name="message" data-validate="required|min:10"&gt;&lt;/textarea&gt;
  &lt;button type="submit"&gt;Send&lt;/button&gt;
&lt;/form&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Password with Strength Indicator</div>
								<div data-accordion-content>
									<div>
										<p>The strength bar appears automatically when a password field has password-related rules:</p>
										<pre><code>&lt;input type="password" name="password"
  data-validate="required|min:8|uppercase|lowercase|number|special"&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>AJAX Form Submission</div>
								<div data-accordion-content>
									<div>
										<pre><code>&lt;form data-form-validation
  data-form-ajax="true"
  data-form-action="/api/contact"
  data-form-method="POST"
  data-form-success-message="Thanks for getting in touch."
  data-form-error-message="Something went wrong."&gt;

  &lt;input type="text" name="name" data-validate="required"&gt;
  &lt;input type="text" name="email" data-validate="required|email"&gt;
  &lt;button type="submit"&gt;Send&lt;/button&gt;
&lt;/form&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Custom Error Messages</div>
								<div data-accordion-content>
									<div>
										<p>Override the default message for all rules on a field:</p>
										<pre><code>&lt;input type="text" name="website"
  data-validate="required|url"
  data-validate-message="Please include https:// in your URL"&gt;</code></pre>
										<p>Or override a specific rule:</p>
										<pre><code>&lt;input type="text" name="email"
  data-validate="required|email"
  data-validate-message-required="We need your email to reply."
  data-validate-message-email="That doesn't look like an email address."&gt;</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>Listening to Events</div>
								<div data-accordion-content>
									<div>
										<pre><code>const form = document.querySelector('[data-form-validation]');

form.addEventListener('battersea:formValid', () =&gt; {
  console.log('All fields valid');
});

form.addEventListener('battersea:formInvalid', (e) =&gt; {
  console.log('Errors:', e.detail.errors);
});

form.addEventListener('battersea:formSubmitted', (e) =&gt; {
  console.log('AJAX response:', e.detail.response);
});</code></pre>
									</div>
								</div>
							</div>

							<div data-accordion-item>
								<div data-accordion-header>CSS Variable Theming</div>
								<div data-accordion-content>
									<div>
										<p>Override the default colours using CSS custom properties:</p>
										<pre><code>:root {
  --form-error-color: #d32f2f;
  --form-success-color: #388e3c;
  --form-warning-color: #f57c00;
  --form-border-radius: 6px;
  --form-strength-weak: #d32f2f;
  --form-strength-medium: #f57c00;
  --form-strength-strong: #388e3c;
}</code></pre>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- ACCESSIBILITY SECTION -->
			<!-- ============================================ -->
			<section id="accessibility" class="features-section" data-scroll-section data-scroll-title="Accessibility" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Accessibility Features</h2>
						<p class="section-subtitle">Built with inclusivity in mind</p>

						<div class="features-grid">
							<div class="feature-card delay-1" data-animate="fade-up">
								<div class="feature-icon">!</div>
								<h3>ARIA Invalid</h3>
								<p>Fields with errors get <code>aria-invalid="true"</code> so screen readers can announce the state.</p>
							</div>

							<div class="feature-card delay-2" data-animate="fade-up">
								<div class="feature-icon">&#8594;</div>
								<h3>Described By</h3>
								<p>Error messages are linked to their field via <code>aria-describedby</code>. Screen readers read the error when the field is focused.</p>
							</div>

							<div class="feature-card delay-3" data-animate="fade-up">
								<div class="feature-icon">Tab</div>
								<h3>Keyboard Navigation</h3>
								<p>Tab between fields, Enter to submit. Focus moves to the first error on failed submission.</p>
							</div>

							<div class="feature-card delay-4" data-animate="fade-up">
								<div class="feature-icon">SR</div>
								<h3>Live Regions</h3>
								<p>Form messages use <code>role="alert"</code> and the password strength bar uses <code>aria-live="polite"</code>.</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- ============================================ -->
			<!-- BROWSER SUPPORT SECTION -->
			<!-- ============================================ -->
			<section class="getting-started-section" data-scroll-section data-scroll-title="Browser Support" data-animate="fade-up">
				<div class="section-box">
					<div class="container">
						<h2 class="section-title">Browser Support</h2>
						<p class="section-subtitle">Works in all modern browsers</p>

						<div class="browser-grid">
							<div class="browser-item">
								<div class="browser-icon">Ch</div>
								<h4>Chrome</h4>
								<p>90+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ff</div>
								<h4>Firefox</h4>
								<p>88+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Sa</div>
								<h4>Safari</h4>
								<p>14+</p>
							</div>

							<div class="browser-item">
								<div class="browser-icon">Ed</div>
								<h4>Edge</h4>
								<p>90+</p>
							</div>
						</div>
					</div>
				</div>
			</section>


			<!-- Page Navigation -->
			<div data-pagenav data-pagenav-mode="pages" data-pagenav-show-category="true"></div>

		</div>

		<!-- Footer Include -->
		<div id="demo-footer-placeholder"></div>

		<!-- SmoothScroll Navigation -->
		<div data-smoothscroll
			data-smoothscroll-header-selector="#mainHeader"
			data-smoothscroll-position="right"
			data-smoothscroll-duration="800"
			data-smoothscroll-easing="ease-out"
			data-smoothscroll-hide-mobile="true">
		</div>

		<!-- Battersea Library JavaScript -->
		<script src="../../src/js/battersea-utils.js"></script>
		<script src="../../src/js/battersea-core.js"></script>
		<script src="../../src/js/battersea-nav-data.js"></script>
		<script src="../../src/js/battersea-animation.js"></script>
		<script src="../../src/js/battersea-accordion.js"></script>
		<script src="../../src/js/battersea-form-validation.js"></script>
		<script src="../../src/js/battersea-header.js"></script>
		<script src="../../src/js/battersea-horizontalnav.js"></script>
		<script src="../../src/js/battersea-tooltip.js"></script>
		<script src="../../src/js/battersea-smoothscroll.js"></script>
		<script src="../../src/js/battersea-accessibility.js"></script>
		<script src="../../src/js/battersea-breadcrumbs.js"></script>
tt<script src="../../src/js/battersea-pagenav.js"></script>

		<!-- Include Loader Script -->
		<script>
			function loadInclude(url, placeholderId) {
				return fetch(url)
				.then(response => {
					if (!response.ok) {
						throw new Error(`Failed to load ${url}: ${response.status}`);
					}
					return response.text();
				})
				.then(html => {
					const placeholder = document.getElementById(placeholderId);
					if (placeholder) {
						placeholder.innerHTML = html;
					}
				})
				.catch(err => {
					console.error(`Error loading ${url}:`, err);
				});
			}

			// Load all includes when DOM is ready
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', loadIncludes);
			} else {
				loadIncludes();
			}
			function loadIncludes() {
				// Load includes in order - nav must load after header since demo-nav-nested is inside the header include
				Promise.all([
					loadInclude('../../includes/preHeader.html', 'demo-preheader-placeholder'),
					loadInclude('../../includes/demo-header-component.html', 'mainHeader'),
					loadInclude('../../includes/demo-footer.html', 'demo-footer-placeholder')
				]).then(() => {
					return loadInclude('../../includes/demo-nav.html', 'demo-nav-nested');
				}).then(() => {
					console.log('All includes loaded successfully');
				});
			}
		</script>
	</body>
</html>
